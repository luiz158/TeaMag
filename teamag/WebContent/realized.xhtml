<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">
<h:head>
	<title>Welcom to Teamag</title>
</h:head>
<h:body>


	<!-- <h:form>  
  
  
    <p:menubar>  
        <p:menuitem value="Retour Accueil" url="login.faces"  icon="ui-icon-home" />  
        <p:menuitem value="Réalisé" url="login.faces" icon="ui-icon-star" />
    </p:menubar>  
  
</h:form>  
 -->
	<p:growl id="growl" showDetail="true" life="2000" />

	<h1>
		Saisie du réalisé de
		<h:outputText value="#{workController.member.name}" />
	</h1>

	<p:panel header="Nouvelle activité">
		<h:form>
			<table border="0">
				<tr>
					<td><h:outputLabel value="Nom* :" /></td>
					<td><h:inputText value="#{workController.newTask.name}"
							required="true" /></td>
					<td><h:outputLabel value="Projet/Appli :" /></td>
					<td><h:inputText value="#{workController.newTask.project}" /></td>
				</tr>
			</table>
			<h:commandButton value="Ajouter"
				action="#{workController.doCreateActivity}" />
		</h:form>
	</p:panel>
	<br />


	<h:form>
		<p:panel header="Réalisé de la semaine">

			<p:button action="#{workController.previousWeek}"
				value="Semaine précédente" icon="ui-icon-arrowreturnthick-1-w" />
			<p:button action="#{workController.nextWeek}"
				value="Semaine suivante" icon="ui-icon-arrowreturnthick-1-e" />


			<p:dataTable id="tbl" var="taskWeek"
				value="#{workController.taskWeekList}">

				<p:column headerText="Tâche">
					<h:outputText value="#{taskWeek.task.name}" />
				</p:column>


				<p:columns value="#{taskWeek.works}" var="work"	columnIndexVar="colIndex">

				<f:facet name="header">  
                	#{work.dayStr}
	            </f:facet>
					<h:inputText value="#{work.total}" size="2"/>

				</p:columns>


			</p:dataTable>
			<br />
			<h:commandButton value="Mettre à jour"
				action="#{workController.update}" />
			<br />
			<h:commandLink>
				<p:graphicImage value="/images/excel.gif" />
				<p:dataExporter type="xls" target="tbl" fileName="realise.xls" />
			</h:commandLink>
		</p:panel>

	</h:form>

</h:body>
</html>